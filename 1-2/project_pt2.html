<!DOCTYPE html>
<html>
<head>
    <title>JavaScript Guessing Game - Part 2</title>
</head>
<body onload="do_game();">
    <h1 style="text-align:center">JavaScript Guessing Game - Part 2</h1>
<script>
var colors = ["blue", "brown", "green", "orange", "purple", "red", "yellow"];
var guess_input;
var nbr_guesses;
var target;

function do_game() {
    var finished = false;
    nbr_guesses = 0; 

    var target_index = Math.floor(Math.random() * colors.length);
    target = colors[target_index];
    // alert("Hint: The color is " + target + ".");

    while(!finished) {
        nbr_guesses += 1;
        guess_input = prompt("I am thinking of one of these colors:\n\n" + 
                             colors + "\n\nWhat color am I thinking of?");
        finished = check_guess();
    }
}

function check_guess() {
    if (guess_input == null) {
        // The user clicked the Cancel button, so stop the game
        alert("You clicked 'Cancel'. Game over.\n\nRefresh the page to play again.");
        return true;
    } else if (colors.indexOf(guess_input) < 0) {
        alert("Sorry, I don't recognize your color.\n\n" + 
              "Please try again.");
        return false;
    } else if (guess_input > target) {
        alert("Sorry, your guess is not correct!\n\n" +
              "Hint: your color is alphabetically higher than mine.\n\n" +
              "Please try again");
        return false;
    } else if (guess_input < target) {
        alert("Sorry, your guess is not correct!\n\n" +
              "Hint: your color is alphabetically lower than mine.\n\n" +
              "Please try again");
        return false;
    } else {
        // set the background color
        myBody = document.getElementsByTagName("body")[0];
        myBody.style.background = target;
        alert("Congratulations! You have guessed the color!\n\n" +
              "It took you " + nbr_guesses + 
              " guess" + ((nbr_guesses > 1) ? "es" : "") + 
              " to finish the game!\n\n" +
              "You can see the color in the background.");
       return true;
    }
}
</script></body></html>
